<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <link rel="stylesheet" href="../src/assets/styles/Login.css">
</head>
<body>
<div class="card">
    <a href="index.html">
    <img src="../src/assets/images/main_logo.png" alt="Company Logo">
    </a>
<!--    <form>-->
<!--        <input type="text" placeholder="Enter your ID" required>-->
<!--        <input type="password" placeholder="Enter your Password" required>-->
<!--        <button type="submit">Login</button>-->
<!--    </form>-->
<!--    <form action="http://localhost:8080/auth/login/id" method="post">-->
<!--        <input type="text" name="id" placeholder="Enter your ID" required>-->
<!--        <input type="password" name="password" placeholder="Enter your Password" required>-->
<!--        <button type="submit">Login</button>-->
<!--    </form>-->
    <form id="login-form">
        <input type="text" id="id" placeholder="Enter your ID" required>
        <input type="password" id="password" placeholder="Enter your Password" required>
        <button type="button" onclick="submitForm()">Login</button>
    </form>

    <script>
        function submitForm() {
            const data = {
                id: document.getElementById('id').value,
                password: document.getElementById('password').value
            };

            fetch("http://localhost:8080/auth/login/id", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify(data)
            }).then(response =>{
                if (response.ok) {
                    // 로그인 성공 시 index.html로 리다이렉트
                    window.location.href = "index.html";
                } else {
                    // 로그인 실패 시 오류 처리
                    alert("Login failed. Please check your credentials.");
                }
            })
                .catch(error => {
                    // 네트워크 오류 등 예외 처리
                    console.error("Error during login:", error);
                });
        }
    </script>


    <div class="signup">
        Don't have an Account? <a href="Register.html">Sign up!</a>
    </div>
    <div class="extras">
        <a href="find-id.html">Find ID</a>
        <a href="forgot-password.html">Forgot PW?</a>
    </div>
</div>
</body>
</html>
